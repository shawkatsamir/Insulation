!function(){"use strict";const e={html:document.documentElement,callButton:document.querySelector(".btn-call"),callButtonIcon:document.querySelector(".btn-call .btn-call__icon"),langSwitcher:document.getElementById("lang-switcher"),header:{logo:document.querySelector("[data-key='header.logo']"),links:document.querySelectorAll("[data-key='header.links']")},hero:{title:document.querySelector("[data-key='hero.title']"),subtitle:document.querySelector("[data-key='hero.subtitle']")},trustItems:document.querySelectorAll(".hero-trust__item span"),contactButtons:{call:document.querySelectorAll("[data-key='contact.buttons.callBtn']"),whatsapp:document.querySelectorAll("[data-key='contact.buttons.whatsappBtn']")},locations:{heroLocations:document.querySelectorAll("[data-key='locations.hero.list']"),contactLocations:document.querySelectorAll("[data-key='locations.contact.list']"),heading:document.querySelectorAll("[data-key='locations.heading']"),footer:document.querySelectorAll("[data-key='locations.footerText']")},services:{header:{name:document.querySelector("[data-key='services.header.name']"),title:document.querySelector("[data-key='services.header.title']"),subtitle:document.querySelector("[data-key='services.header.subtitle']")},cards:document.querySelectorAll(".service-card")},whyUs:{header:{name:document.querySelector("[data-key='whyUs.header.name']"),title:document.querySelector("[data-key='whyUs.header.title']"),subtitle:document.querySelector("[data-key='whyUs.header.subtitle']")},items:document.querySelectorAll(".why-us__item")},contactUs:{header:{name:document.querySelector("[data-key='contact.header.name']"),subtitle:document.querySelector("[data-key='contact.header.subtitle']")},labels:{phone:document.querySelector("[data-key='contact_us.contactInfo.phoneLabel']"),whatsapp:document.querySelector("[data-key='contact_us.contactInfo.whatsappLabel']"),email:document.querySelector("[data-key='contact_us.contactInfo.emailLabel']")},locations:{locationsArea:document.querySelectorAll(".locations-list li"),heading:document.querySelectorAll("[data-key='locations.heading']"),footer:document.querySelectorAll("[data-key='locations.footerText']")},trustItems:document.querySelectorAll(".hero-trust--contact span")},footer:{footerAboutName:document.querySelector(".footer__name"),footerAboutDesc:document.querySelector(".footer__desc"),quickLinksTitle:document.querySelector(".footer__section:nth-child(2) .footer__title"),quickLinksHome:document.querySelector(".footer__section:nth-child(2) .footer__links li:nth-child(1) a"),quickLinksServices:document.querySelector(".footer__section:nth-child(2) .footer__links li:nth-child(2) a"),quickLinksWhyUs:document.querySelector(".footer__section:nth-child(2) .footer__links li:nth-child(3) a"),quickLinksContact:document.querySelector(".footer__section:nth-child(2) .footer__links li:nth-child(4) a"),ourServicesTitle:document.querySelector(".footer__section:nth-child(3) .footer__title"),ourServicesRoof:document.querySelector(".footer__section:nth-child(3) .footer__links li:nth-child(1) a"),ourServicesLeak:document.querySelector(".footer__section:nth-child(3) .footer__links li:nth-child(2) a"),ourServicesTank:document.querySelector(".footer__section:nth-child(3) .footer__links li:nth-child(3) a"),ourServicesBathroom:document.querySelector(".footer__section:nth-child(3) .footer__links li:nth-child(4) a"),contactUsTitle:document.querySelector(".footer__section:nth-child(4) .footer__title"),contactUsPhone:document.querySelector(".footer__contact li:nth-child(1) a"),contactUsWhatsapp:document.querySelector(".footer__contact li:nth-child(2) a"),contactUsEmail:document.querySelector(".footer__contact li:nth-child(3) a"),bottomBarCopyright:document.querySelector(".footer-bottom p"),bottomBarLangToggle:document.querySelector(".footer-bottom__lang-toggle button")},schema:document.getElementById("schema-data")};let t={};const o=(e,t)=>{e&&void 0!==t&&(e.textContent=t)};function c(c){e.html.setAttribute("lang",c),e.html.setAttribute("dir","ar"===c?"rtl":"ltr"),localStorage.setItem("preferred-lang",c),function(c){if(!t[c])return;const r=t[c];if(o(e.header.logo,r.header.logo),o(e.hero.title,r.hero.title),o(e.hero.subtitle,r.hero.subtitle),o(e.services.header.name,r.services.header.name),o(e.services.header.title,r.services.header.title),o(e.services.header.subtitle,r.services.header.subtitle),o(e.whyUs.header.name,r.whyUs.header.name),o(e.whyUs.header.title,r.whyUs.header.title),o(e.whyUs.header.subtitle,r.whyUs.header.subtitle),o(e.contactUs.header.name,r.contact_us.header.name),o(e.contactUs.header.subtitle,r.contact_us.header.subtitle),o(e.contactUs.labels.phone,r.contact_us.contactInfo.phoneLabel),o(e.contactUs.labels.whatsapp,r.contact_us.contactInfo.whatsappLabel),o(e.contactUs.labels.email,r.contact_us.contactInfo.emailLabel),e.contactButtons.call.forEach(e=>o(e,r.contact.callBtn)),e.contactButtons.whatsapp.forEach(e=>o(e,r.contact.whatsappBtn)),e.header.links.forEach((e,t)=>o(e,r.header.links[t])),e.trustItems.forEach((e,t)=>o(e,r.hero.trustItems[t]?.text)),e.contactUs.trustItems.forEach((e,t)=>o(e,r.contact_us.trustItems[t]?.text)),o(e.contactUs.labels.phone,r.contact_us.contactInfo.phoneLabel),e.locations.heading.forEach(e=>o(e,r.locations.heading)),e.locations.footer.forEach(e=>o(e,r.locations.footerText)),e.locations.heroLocations.forEach((e,t)=>o(e,r.locations.hero.list[t])),e.locations.contactLocations.forEach((e,t)=>o(e,r.locations.contact.list[t])),e.services.cards.forEach((e,t)=>{const c=r.services.cards[t];c&&(o(e.querySelector(".service-card__title"),c.title),o(e.querySelector(".services-card__subtitle"),c.subtitle),e.querySelectorAll(".service-card__features-item span").forEach((e,t)=>{o(e,c.features[t])}))}),e.whyUs.items.forEach((e,t)=>{const c=r.whyUs.items[t];c&&(o(e.querySelector(".why-us__item-title"),c.title),o(e.querySelector(".why-us__item-text"),c.text))}),o(e.footer.footerAboutName,r.footer.about.name),o(e.footer.footerAboutDesc,r.footer.about.description),o(e.footer.quickLinksTitle,r.footer.quickLinks.title),o(e.footer.quickLinksHome,r.footer.quickLinks.home),o(e.footer.quickLinksServices,r.footer.quickLinks.services),o(e.footer.quickLinksWhyUs,r.footer.quickLinks.whyUs),o(e.footer.quickLinksContact,r.footer.quickLinks.contact),o(e.footer.ourServicesTitle,r.footer.ourServices.title),o(e.footer.ourServicesRoof,r.footer.ourServices.roofInsulation),o(e.footer.ourServicesLeak,r.footer.ourServices.leakDetection),o(e.footer.ourServicesTank,r.footer.ourServices.tankInsulation),o(e.footer.ourServicesBathroom,r.footer.ourServices.bathroomWaterproofing),o(e.footer.contactUsTitle,r.footer.contactUs.title),o(e.footer.contactUsPhone,r.footer.contactUs.phone),o(e.footer.contactUsWhatsapp,r.footer.contactUs.whatsapp),o(e.footer.contactUsEmail,r.footer.contactUs.email),o(e.footer.bottomBarCopyright,r.footer.bottomBar.copyright),o(e.footer.bottomBarLangToggle,r.footer.bottomBar.languageToggle),e.schema)try{const t=JSON.parse(e.schema.textContent);t.name=r.hero.title,t.description=r.hero.subtitle,e.schema.textContent=JSON.stringify(t,null,2)}catch(e){console.error("Failed to parse or update schema data.",e)}}(c)}function r(){c("ar"===(e.html.getAttribute("lang")||"ar")?"en":"ar")}async function n(){await async function(){const e=localStorage.getItem("translations");if(e)t=JSON.parse(e);else try{const e=await fetch("./data/translation.json");t=await e.json(),localStorage.setItem("translations",JSON.stringify(t))}catch(e){console.error("Failed to load translations:",e)}}();const o=localStorage.getItem("preferred-lang"),n=(navigator.language||navigator.userLanguage).startsWith("ar");c(o||(n?"ar":"en")),e.callButton&&e.callButton.addEventListener("click",()=>{e.callButtonIcon&&(e.callButtonIcon.style.animation="vibrate 0.3s",setTimeout(()=>{e.callButtonIcon.style.animation=""},300))}),e.langSwitcher&&e.langSwitcher.addEventListener("click",r)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()}(),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".header"),t=document.querySelector(".button-mobile__toggle"),o=document.querySelector(".header-navbar__links"),c=document.querySelector(".sticky-buttons"),r=document.querySelectorAll(".section");t&&e&&t.addEventListener("click",function(){e.classList.toggle("nav-open");const o=e.classList.contains("nav-open");t.setAttribute("aria-expanded",o)}),o&&e&&o.addEventListener("click",function(o){!o.target.closest("a")||window.innerWidth>768||e.classList.contains("nav-open")&&(e.classList.remove("nav-open"),t?.setAttribute("aria-expanded","false"))}),o&&o.addEventListener("click",function(e){const t=e.target.closest("a");if(!t||!t.hash||"#"===t.hash)return;e.preventDefault();const o=t.hash,c=document.querySelector(o);c&&setTimeout(()=>{c.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,"",o)},50)});const n=new IntersectionObserver(function(e,t){const[o]=e;o.isIntersecting&&(o.target.classList.remove("section--hidden"),t.unobserve(o.target))},{threshold:.15,rootMargin:"0px 0px -100px 0px"});r.forEach(e=>{e.classList.add("section--hidden"),n.observe(e)});const a=[document.querySelector(".hero"),document.querySelector(".contact-us"),document.querySelector(".footer")],s=new IntersectionObserver(e=>{let t=!1;e.forEach(e=>{e.isIntersecting&&(t=!0)}),t?c?.classList.remove("show"):c?.classList.add("show")},{threshold:.2});a.forEach(e=>{e&&s.observe(e)}),window.addEventListener("load",()=>{document.body.style.overflow="",e.classList.contains("nav-open")&&e.classList.remove("nav-open")});const l=document.querySelector(".btn-back-to-top");l&&(window.addEventListener("scroll",function(){window.scrollY>300?l.classList.add("show"):l.classList.remove("show")}),l.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}))});